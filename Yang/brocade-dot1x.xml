<?xml version="1.0" encoding="UTF-8"?>
<module name="brocade-dot1x"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:dot1x="urn:brocade.com:mgmt:brocade-dot1x"
        xmlns:interface="urn:brocade.com:mgmt:brocade-interface">
  <namespace uri="urn:brocade.com:mgmt:brocade-dot1x"/>
  <prefix value="dot1x"/>
  <import module="brocade-interface">
    <prefix value="interface"/>
  </import>
  <organization>
    <text>Brocade Communications Systems, Inc.</text>
  </organization>
  <contact>
    <text>Brocade Communications Systems, Inc.
Postal: 130 Holger Way
        San Jose, CA 95134
        U.S.A
Tel: +1-408-333-8000
E-mail: support@Brocade.com 
web: www.brocade.com.</text>
  </contact>
  <description>
    <text>This management module is an instrumentation to manage dot1x 
feature. 
        
IEEE 802.1X is an IEEE Standard for port-based Network Access 
Control(PNAC). It is a networking protocol which provides an 
authentication mechanism to devices wishing to attach to a
LAN or WLAN.IEEE 802.1X defines the encapsulation of the 
Extensible Authentication Protocol (EAP) over IEEE 802
which is known as EAP over LAN or EAPoL.
802.1x involves 3 parties
    Supplicant - Device which connects to network
    Authenticator - Network device such as ethernet switch
    Authentication server - A host running software that
                            supports Radius and EAP Protocols
This module defines the parameters used for the Port based 
Network access control. Here authentication server is termed
as dot1x server.

Glossary of the terms used:
---------------------------
EAPoL- Extensible Authentication Protocol over LAN</text>
  </description>
  <reference>
    <text>IEEE 802.1X, IEEE Standard for port-based Network Access 
Control (PNAC), 2004.</text>
  </reference>
  <revision date="2011-07-13">
    <description>
      <text>Initial version of the dot1x management module.</text>
    </description>
  </revision>
  <typedef name="dot1x-server-timeout-interval">
    <type name="uint32">
      <range value="1 .. 65535">
        <description>
          <text>The definition for internal timeout of dot1x 
server.</text>
        </description>
      </range>
    </type>
    <units name="seconds"/>
  </typedef>
  <typedef name="dot1x-supp-timeout-interval">
    <type name="uint32">
      <range value="1 .. 65535">
        <description>
          <text>The definition for supplicant timeout of dot1x 
server.</text>
        </description>
      </range>
    </type>
    <units name="seconds"/>
  </typedef>
  <typedef name="dot1x-tx-timeout-interval">
    <type name="uint32">
      <range value="1 .. 65535">
        <description>
          <text>The definition for transmission period of dot1x.</text>
        </description>
      </range>
    </type>
    <units name="seconds"/>
  </typedef>
  <typedef name="dot1x-reauth-timeout-interval">
    <type name="uint32">
      <range value="1 .. 4294967295">
        <description>
          <text>The definition for Reauthentication timeout 
interval of dot1x.</text>
        </description>
      </range>
    </type>
    <units name="seconds"/>
  </typedef>
  <typedef name="dot1x-readinesstest-timeout-interval">
    <type name="uint32">
      <range value="1 .. 65535">
        <description>
          <text>The definition for Readiness test timeout interval
of dot1x server.</text>
        </description>
      </range>
    </type>
  </typedef>
  <container name="dot1x">
    <description>
      <text>This provides grouping of all the dot1x configuration
elements.</text>
    </description>
    <leaf name="enable">
      <type name="empty"/>
      <description>
        <text>This specifies if the port authentication is enabled 
globally or not.
                
The presence of this leaf indicates that the port 
authentication is enabled globally.</text>
      </description>
    </leaf>
    <container name="test">
      <description>
        <text>This provides the grouping of dot1x test elements.</text>
      </description>
      <leaf name="timeout">
        <type name="dot1x-readinesstest-timeout-interval"/>
        <default value="10"/>
        <description>
          <text>This specifies the timeout period for dot1x 
readiness test.</text>
        </description>
      </leaf>
    </container>
  </container>
  <grouping name="common-phy-dot1x-cmds">
    <container name="dot1x">
      <description>
        <text>This provides grouping of all the dot1x configuration
elements.</text>
      </description>
      <leaf name="authentication">
        <type name="empty"/>
        <description>
          <text>This specifies if the dot1x is enabled on the port 
or not.
                    
The presence of this leaf indicates that the dot1x 
is enabled on the port.</text>
        </description>
      </leaf>
      <leaf name="port-control">
        <type name="enumeration">
          <enum name="auto">
            <value value="1"/>
            <description>
              <text>Allow auto negotiation.</text>
            </description>
          </enum>
          <enum name="force-authorized">
            <value value="2"/>
            <description>
              <text>Move port to authorized state forcefully.</text>
            </description>
          </enum>
          <enum name="force-unauthorized">
            <value value="3"/>
            <description>
              <text>Move port to unauthorized state 
forcefully.</text>
            </description>
          </enum>
        </type>
        <description>
          <text>This leaf specifies the port state.
'auto' enables 802.1x authentication. The port 
moves to authorized state only after successful 
authentication. 'force-authorized' disables 802.1x
and port moves to authorized state without any 
authentication. 'force-unauthorized' causes the
port to remain in the unauthorized state,
ignoring all attempts by the client to 
authenticate.</text>
        </description>
      </leaf>
      <leaf name="protocol-version">
        <type name="uint32">
          <range value="1 .. 2">
            <description>
              <text>This Specifies the range for EAPoL 
version.</text>
            </description>
          </range>
        </type>
        <default value="2"/>
        <description>
          <text>This specifies the Extensible Authentication
Protocol version.</text>
        </description>
      </leaf>
      <leaf name="quiet-period">
        <type name="uint32">
          <range value="1 .. 65535">
            <description>
              <text>This specifies the supported range for 
quiet period in HELD state.</text>
            </description>
          </range>
        </type>
        <default value="60"/>
        <description>
          <text>This specifies the quiet period in HELD state.
When the switch cannot authenticate the client
it stays idle for this period of time and tries
again. </text>
        </description>
      </leaf>
      <leaf name="reauthMax">
        <type name="uint32">
          <range value="1 .. 10">
            <description>
              <text>This specifies the maximum number of times 
the reauthentication will be tried.</text>
            </description>
          </range>
        </type>
        <default value="2"/>
        <description>
          <text>This specifies the number of reauthentication 
attempts before becoming unauthorized.</text>
        </description>
      </leaf>
      <leaf name="reauthentication">
        <type name="empty"/>
        <description>
          <text>This specifies if the re-authentication should be 
done on a port.
                    
The presence of this leaf indicates that the 
re-authentication should be done.</text>
        </description>
      </leaf>
      <container name="timeout">
        <description>
          <text>This provides the grouping of all the timeout
configuration elements.</text>
        </description>
        <leaf name="re-authperiod">
          <type name="dot1x-reauth-timeout-interval"/>
          <default value="3600"/>
          <description>
            <text>This specifies the number of seconds
between re-authentication attempts.</text>
          </description>
        </leaf>
        <leaf name="server-timeout">
          <type name="dot1x-server-timeout-interval"/>
          <default value="30"/>
          <description>
            <text>This specifies the dot1x server timeout
interval. This is the amount of time the switch
waits for a reply before retransmitting the 
response to the server, when relaying the 
response from the client to the authentication
server.</text>
          </description>
        </leaf>
        <leaf name="supp-timeout">
          <type name="dot1x-supp-timeout-interval"/>
          <default value="30"/>
          <description>
            <text>This specifies the supplicant response
timeout. This is the amount of time the switch
waits for a response before retransmitting 
the request to the client when relaying a 
request from the authentication server 
to client.</text>
          </description>
        </leaf>
        <leaf name="tx-period">
          <type name="dot1x-tx-timeout-interval"/>
          <default value="30"/>
          <description>
            <text>This specifies the number of seconds the 
switch waits for response to an EAP 
request/identity from client before
retransmitting the request.</text>
          </description>
        </leaf>
      </container>
    </container>
  </grouping>
  <augment target-node="/interface:interface/interface:tengigabitethernet">
    <uses name="common-phy-dot1x-cmds"/>
  </augment>
  <augment target-node="/interface:interface/interface:gigabitethernet">
    <uses name="common-phy-dot1x-cmds"/>
  </augment>
  <augment target-node="/interface:interface/interface:fortygigabitethernet">
    <uses name="common-phy-dot1x-cmds"/>
  </augment>
</module>
