<?xml version="1.0" encoding="UTF-8"?>
<module name="brocade-ag"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:ag="urn:brocade.com:mgmt:brocade-ag"
        xmlns:interface="urn:brocade.com:mgmt:brocade-interface"
        xmlns:rbridge="urn:brocade.com:mgmt:brocade-rbridge">
  <namespace uri="urn:brocade.com:mgmt:brocade-ag"/>
  <prefix value="ag"/>
  <import module="brocade-interface">
    <prefix value="interface"/>
  </import>
  <import module="brocade-rbridge">
    <prefix value="rbridge"/>
  </import>
  <organization>
    <text>Brocade Communications Systems, Inc.</text>
  </organization>
  <contact>
    <text>Brocade Communications Systems, Inc.
Postal: 130 Holger Way
        San Jose, CA 95134
        U.S.A
Tel: +1-408-333-8000
E-mail: support@Brocade.com 
web: www.brocade.com.</text>
  </contact>
  <description>
    <text>This management module is an instrumentation to manage AG 
feature.</text>
  </description>
  <typedef name="port-type">
    <type name="string">
      <length value="1..16"/>
    </type>
  </typedef>
  <typedef name="wwn-type">
    <type name="string">
      <pattern value="([0-9a-f]{2}(:[0-9a-f]{2}){7})|([a,A][n.N][y,Y])|([n,N][o,O][n,N][e,E])"/>
    </type>
    <description>
      <text>World Wide Name (Only lower case allowed)</text>
    </description>
  </typedef>
  <typedef name="nport-interfaces-type-optional">
    <type name="string">
      <length value="1..250"/>
    </type>
  </typedef>
  <typedef name="fport-interfaces-type-optional">
    <type name="string">
      <length value="1..250"/>
    </type>
  </typedef>
  <typedef name="nport-interfaces-type">
    <type name="string">
      <length value="1..250"/>
    </type>
  </typedef>
  <typedef name="fport-interfaces-type">
    <type name="string">
      <length value="1..250"/>
    </type>
  </typedef>
  <typedef name="pgid-type">
    <type name="uint32"/>
  </typedef>
  <typedef name="pg-type">
    <type name="string">
      <length value="1..250"/>
    </type>
  </typedef>
  <typedef name="ag-policy-types">
    <type name="string">
      <length value="1..10"/>
    </type>
  </typedef>
  <typedef name="pg-policy-types">
    <type name="string">
      <length value="1..10"/>
    </type>
  </typedef>
  <augment target-node="/rbridge:rbridge-id">
    <container name="ag">
      <list name="nport">
        <key value="agNPortNb"/>
        <leaf name="agNPortNb">
          <type name="nport-interfaces-type"/>
          <mandatory value="true"/>
        </leaf>
        <uses name="nportclis"/>
      </list>
      <list name="pg">
        <key value="pgid"/>
        <leaf name="pgid">
          <type name="pgid-type"/>
          <mandatory value="true"/>
        </leaf>
        <uses name="pgclis"/>
      </list>
      <container name="policyenable">
        <leaf-list name="agPolicy">
          <type name="ag-policy-types"/>
          <min-elements value="0"/>
        </leaf-list>
      </container>
      <container name="timeout">
        <leaf name="fnmtovalue">
          <type name="uint32"/>
        </leaf>
      </container>
      <container name="counter">
        <leaf name="reliabilitycountervalue">
          <type name="uint32"/>
        </leaf>
      </container>
    </container>
  </augment>
  <grouping name="nportclis">
    <container name="map">
      <container name="map-fport">
        <container name="map-fport-interface">
          <leaf-list name="map-fcoe">
            <type name="fport-interfaces-type"/>
          </leaf-list>
        </container>
      </container>
    </container>
    <container name="staticmap">
      <container name="staticmap-fport">
        <container name="staticmap-fport-interface">
          <leaf-list name="staticmap-fcoe">
            <type name="fport-interfaces-type"/>
          </leaf-list>
        </container>
      </container>
    </container>
    <container name="failover">
      <leaf name="failoverenable">
        <type name="empty"/>
      </leaf>
    </container>
    <container name="failback">
      <leaf name="failbackenable">
        <type name="empty"/>
      </leaf>
    </container>
  </grouping>
  <grouping name="pgclis">
    <container name="nport">
      <container name="pg-nport-interface">
        <leaf-list name="nports">
          <type name="nport-interfaces-type"/>
        </leaf-list>
      </container>
    </container>
    <leaf-list name="modes">
      <type name="pg-policy-types"/>
    </leaf-list>
    <leaf name="rename">
      <type name="string"/>
    </leaf>
  </grouping>
</module>
